<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detail Kos - TemanKosan</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f8f9fa;
        }

        /* Navigation */
        .navbar {
            background: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            color: #666;
            text-decoration: none;
            transition: color 0.3s;
        }

        .back-link:hover {
            color: #00c851;
        }

        .nav-actions {
            display: flex;
            gap: 1rem;
        }

        .action-btn {
            background: none;
            border: none;
            padding: 0.5rem;
            border-radius: 50%;
            cursor: pointer;
            transition: background 0.3s;
        }

        .action-btn:hover {
            background: #f8f9fa;
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
        }

        .kos-detail {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 2rem;
        }

        /* Image Gallery */
        .image-gallery {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .main-image {
            position: relative;
            height: 400px;
            overflow: hidden;
        }

        .main-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-badge {
            position: absolute;
            top: 1rem;
            left: 1rem;
            background: #00c851;
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-weight: 600;
        }

        .thumbnail-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 0.5rem;
            padding: 1rem;
        }

        .thumbnail {
            height: 80px;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            border: 2px solid transparent;
            transition: border-color 0.3s;
        }

        .thumbnail.active {
            border-color: #00c851;
        }

        .thumbnail img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* Kos Info */
        .kos-info {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
        }

        .kos-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 1.5rem;
        }

        .kos-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }

        .kos-location {
            color: #666;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .kos-price {
            text-align: right;
        }

        .price-amount {
            font-size: 2rem;
            font-weight: bold;
            color: #00c851;
        }

        .price-period {
            color: #666;
            font-size: 0.9rem;
        }

        .kos-rating {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .stars {
            color: #ffc107;
        }

        .kos-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-bottom: 2rem;
        }

        .detail-item {
            display: flex;
            flex-direction: column;
        }

        .detail-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 0.25rem;
        }

        .detail-value {
            font-weight: 600;
        }

        .available {
            color: #00c851;
        }

        .unavailable {
            color: #dc3545;
        }

        .description {
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }

        .facilities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 0.5rem;
            margin-bottom: 2rem;
        }

        .facility-item {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem;
            border-radius: 10px;
            transition: background 0.3s;
        }

        .facility-available {
            background: #e8f5e8;
            color: #00c851;
        }

        .facility-unavailable {
            background: #f8f9fa;
            color: #999;
        }

        .rules-list {
            list-style: none;
        }

        .rules-list li {
            display: flex;
            align-items: start;
            gap: 0.5rem;
            margin-bottom: 0.5rem;
            color: #666;
        }

        .rules-list li::before {
            content: '‚Ä¢';
            color: #00c851;
            font-weight: bold;
        }

        /* Booking Sidebar */
        .booking-sidebar {
            position: sticky;
            top: 100px;
        }

        .booking-card {
            background: white;
            border-radius: 15px;
            padding: 2rem;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
        }

        .price-display {
            text-align: center;
            margin-bottom: 2rem;
        }

        .price-main {
            font-size: 2rem;
            font-weight: bold;
            color: #00c851;
        }

        .price-sub {
            color: #666;
            font-size: 0.9rem;
        }

        .owner-info {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 10px;
        }

        .owner-avatar {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: #00c851;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .owner-details h4 {
            margin-bottom: 0.25rem;
        }

        .owner-details p {
            color: #666;
            font-size: 0.9rem;
        }

        .booking-actions {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 10px;
            font-weight: 600;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            transition: all 0.3s;
        }

        .btn-primary {
            background: #00c851;
            color: white;
        }

        .btn-primary:hover {
            background: #00a844;
        }

        .btn-outline {
            background: white;
            color: #ff69b4;
            border: 2px solid #ff69b4;
        }

        .btn-outline:hover {
            background: #ff69b4;
            color: white;
        }

        .booking-note {
            font-size: 0.8rem;
            color: #666;
            text-align: center;
            margin-top: 1rem;
            padding-top: 1rem;
            border-top: 1px solid #e0e0e0;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .kos-detail {
                grid-template-columns: 1fr;
            }

            .kos-header {
                flex-direction: column;
                gap: 1rem;
            }

            .kos-details {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .thumbnail-grid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="nav-container">
            <a href="index.html" class="back-link">‚Üê Kembali</a>
            <div class="nav-actions">
                <button class="action-btn" onclick="toggleFavorite()" id="favoriteBtn">‚ù§Ô∏è</button>
                <button class="action-btn" onclick="shareKos()">üì§</button>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container">
        <div class="kos-detail">
            <!-- Left Column -->
            <div class="left-column">
                <!-- Image Gallery -->
                <div class="image-gallery">
                    <div class="main-image">
                        <img id="mainImage" src="/placeholder.svg" alt="">
                        <div class="image-badge" id="kosType"></div>
                    </div>
                    <div class="thumbnail-grid" id="thumbnailGrid">
                        <!-- Thumbnails will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Kos Info -->
                <div class="kos-info">
                    <div class="kos-header">
                        <div>
                            <h1 class="kos-title" id="kosName"></h1>
                            <div class="kos-location">
                                üìç <span id="kosLocation"></span>
                            </div>
                        </div>
                        <div class="kos-price">
                            <div class="price-amount" id="kosPrice"></div>
                            <div class="price-period">per bulan</div>
                            <div class="kos-rating">
                                <span class="stars">‚≠ê</span>
                                <span id="kosRating"></span>
                                <span id="reviewCount"></span>
                            </div>
                        </div>
                    </div>

                    <div class="kos-details">
                        <div class="detail-item">
                            <span class="detail-label">Ukuran Kamar</span>
                            <span class="detail-value" id="roomSize"></span>
                        </div>
                        <div class="detail-item">
                            <span class="detail-label">Status</span>
                            <span class="detail-value" id="availability"></span>
                        </div>
                    </div>

                    <div class="description">
                        <h3 class="section-title">Deskripsi</h3>
                        <p id="kosDescription"></p>
                    </div>

                    <div class="facilities">
                        <h3 class="section-title">Fasilitas</h3>
                        <div class="facilities-grid" id="facilitiesGrid">
                            <!-- Facilities will be populated by JavaScript -->
                        </div>
                    </div>

                    <div class="rules">
                        <h3 class="section-title">Peraturan Kos</h3>
                        <ul class="rules-list" id="rulesList">
                            <!-- Rules will be populated by JavaScript -->
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Right Column - Booking Sidebar -->
            <div class="booking-sidebar">
                <div class="booking-card">
                    <div class="price-display">
                        <div class="price-main" id="sidebarPrice"></div>
                        <div class="price-sub">per bulan</div>
                    </div>

                    <div class="owner-info">
                        <div class="owner-avatar" id="ownerAvatar"></div>
                        <div class="owner-details">
                            <h4 id="ownerName"></h4>
                            <p>Pemilik Kos</p>
                        </div>
                    </div>

                    <div class="booking-actions">
                        <a href="#" class="btn btn-primary" id="bookingBtn">Booking Sekarang</a>
                        <button class="btn btn-outline" onclick="contactOwner()">Hubungi Pemilik</button>
                    </div>

                    <div class="booking-note">
                        Dengan melakukan booking, Anda menyetujui syarat dan ketentuan TemanKosan
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Get kos ID from URL
        const urlParams = new URLSearchParams(window.location.search);
        const kosId = parseInt(urlParams.get('id'));

        // Sample detailed kos data
        const kosDetailData = {
            1: {
                id: 1,
                name: "Kos Melati Indah",
                location: "Jl. Margonda Raya No. 123, Depok, Jawa Barat",
                price: 1200000,
                rating: 4.5,
                reviewCount: 128,
                images: [
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600&h=400&fit=crop"
                ],
                facilities: [
                    { name: "WiFi Gratis", available: true },
                    { name: "Parkir Motor", available: true },
                    { name: "Dapur Bersama", available: true },
                    { name: "Security 24 Jam", available: false },
                    { name: "AC", available: true },
                    { name: "Kamar Mandi Dalam", available: true }
                ],
                description: "Kos nyaman dan strategis di kawasan Depok. Dekat dengan berbagai fasilitas umum seperti kampus, mall, dan transportasi umum. Kamar dilengkapi dengan AC, kamar mandi dalam, dan lemari pakaian.",
                rules: [
                    "Tidak boleh membawa tamu menginap",
                    "Jam malam pukul 22.00 WIB",
                    "Dilarang merokok di dalam kamar",
                    "Wajib menjaga kebersihan bersama"
                ],
                owner: {
                    name: "Ibu Sari",
                    phone: "081234567890",
                    avatar: "S"
                },
                type: "Putra/Putri",
                roomSize: "3x4 meter",
                available: true
            },
            2: {
                id: 2,
                name: "Kos Mawar Residence",
                location: "Jl. Kemang Raya No. 45, Jakarta Selatan",
                price: 1800000,
                rating: 4.8,
                reviewCount: 95,
                images: [
                    "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1484154218962-a197022b5858?w=600&h=400&fit=crop",
                    "https://images.unsplash.com/photo-1502672260266-1c1ef2d93688?w=600&h=400&fit=crop"
                ],
                facilities: [
                    { name: "WiFi Gratis", available: true },
                    { name: "AC", available: true },
                    { name: "Dapur Pribadi", available: true },
                    { name: "Laundry", available: true },
                    { name: "Parkir Mobil", available: false },
                    { name: "Security 24 Jam", available: true }
                ],
                description: "Kos eksklusif untuk putri di area Jakarta Selatan. Lokasi strategis dekat dengan pusat bisnis dan hiburan. Fasilitas lengkap dengan keamanan 24 jam.",
                rules: [
                    "Khusus untuk putri",
                    "Tidak boleh membawa tamu laki-laki",
                    "Jam berkunjung tamu sampai pukul 20.00 WIB",
                    "Wajib lapor jika menginap di luar"
                ],
                owner: {
                    name: "Bapak Andi",
                    phone: "081234567891",
                    avatar: "A"
                },
                type: "Putri",
                roomSize: "4x4 meter",
                available: true
            }
        };

        // Load kos detail
        function loadKosDetail() {
            const kos = kosDetailData[kosId];
            if (!kos) {
                alert('Kos tidak ditemukan!');
                window.location.href = 'index.html';
                return;
            }

            // Update page content
            document.getElementById('kosName').textContent = kos.name;
            document.getElementById('kosLocation').textContent = kos.location;
            document.getElementById('kosPrice').textContent = `Rp ${kos.price.toLocaleString('id-ID')}`;
            document.getElementById('sidebarPrice').textContent = `Rp ${kos.price.toLocaleString('id-ID')}`;
            document.getElementById('kosRating').textContent = kos.rating;
            document.getElementById('reviewCount').textContent = `(${kos.reviewCount} ulasan)`;
            document.getElementById('kosType').textContent = kos.type;
            document.getElementById('roomSize').textContent = kos.roomSize;
            document.getElementById('kosDescription').textContent = kos.description;
            
            // Availability status
            const availabilityEl = document.getElementById('availability');
            availabilityEl.textContent = kos.available ? 'Tersedia' : 'Tidak Tersedia';
            availabilityEl.className = `detail-value ${kos.available ? 'available' : 'unavailable'}`;

            // Owner info
            document.getElementById('ownerName').textContent = kos.owner.name;
            document.getElementById('ownerAvatar').textContent = kos.owner.avatar;

            // Booking button
            const bookingBtn = document.getElementById('bookingBtn');
            if (kos.available) {
                bookingBtn.href = `booking.html?id=${kos.id}`;
            } else {
                bookingBtn.textContent = 'Tidak Tersedia';
                bookingBtn.style.background = '#ccc';
                bookingBtn.style.cursor = 'not-allowed';
                bookingBtn.onclick = (e) => e.preventDefault();
            }

            // Load images
            loadImages(kos.images);
            
            // Load facilities
            loadFacilities(kos.facilities);
            
            // Load rules
            loadRules(kos.rules);
        }

        // Load images
        function loadImages(images) {
            const mainImage = document.getElementById('mainImage');
            const thumbnailGrid = document.getElementById('thumbnailGrid');
            
            mainImage.src = images[0];
            
            thumbnailGrid.innerHTML = '';
            images.forEach((image, index) => {
                const thumbnail = document.createElement('div');
                thumbnail.className = `thumbnail ${index === 0 ? 'active' : ''}`;
                thumbnail.innerHTML = `<img src="${image}" alt="Foto ${index + 1}">`;
                thumbnail.onclick = () => changeMainImage(image, index);
                thumbnailGrid.appendChild(thumbnail);
            });
        }

        // Change main image
        function changeMainImage(imageSrc, index) {
            document.getElementById('mainImage').src = imageSrc;
            
            // Update active thumbnail
            document.querySelectorAll('.thumbnail').forEach((thumb, i) => {
                thumb.classList.toggle('active', i === index);
            });
        }

        // Load facilities
        function loadFacilities(facilities) {
            const facilitiesGrid = document.getElementById('facilitiesGrid');
            facilitiesGrid.innerHTML = '';
            
            facilities.forEach(facility => {
                const facilityItem = document.createElement('div');
                facilityItem.className = `facility-item ${facility.available ? 'facility-available' : 'facility-unavailable'}`;
                facilityItem.innerHTML = `
                    <span>${facility.available ? '‚úÖ' : '‚ùå'}</span>
                    <span>${facility.name}</span>
                `;
                facilitiesGrid.appendChild(facilityItem);
            });
        }

        // Load rules
        function loadRules(rules) {
            const rulesList = document.getElementById('rulesList');
            rulesList.innerHTML = '';
            
            rules.forEach(rule => {
                const ruleItem = document.createElement('li');
                ruleItem.textContent = rule;
                rulesList.appendChild(ruleItem);
            });
        }

        // Toggle favorite
        function toggleFavorite() {
            let favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const favoriteBtn = document.getElementById('favoriteBtn');
            
            if (favorites.includes(kosId)) {
                favorites = favorites.filter(id => id !== kosId);
                favoriteBtn.textContent = 'ü§ç';
            } else {
                favorites.push(kosId);
                favoriteBtn.textContent = '‚ù§Ô∏è';
            }
            
            localStorage.setItem('favorites', JSON.stringify(favorites));
        }

        // Share kos
        function shareKos() {
            if (navigator.share) {
                navigator.share({
                    title: document.getElementById('kosName').textContent,
                    text: 'Lihat kos ini di TemanKosan',
                    url: window.location.href
                });
            } else {
                // Fallback: copy to clipboard
                navigator.clipboard.writeText(window.location.href).then(() => {
                    alert('Link berhasil disalin!');
                });
            }
        }

        // Contact owner
        function contactOwner() {
            const kos = kosDetailData[kosId];
            if (kos && kos.owner.phone) {
                const message = `Halo, saya tertarik dengan ${kos.name}. Apakah masih tersedia?`;
                const whatsappUrl = `https://wa.me/62${kos.owner.phone.substring(1)}?text=${encodeURIComponent(message)}`;
                window.open(whatsappUrl, '_blank');
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadKosDetail();
            
            // Check if already favorited
            const favorites = JSON.parse(localStorage.getItem('favorites') || '[]');
            const favoriteBtn = document.getElementById('favoriteBtn');
            favoriteBtn.textContent = favorites.includes(kosId) ? '‚ù§Ô∏è' : 'ü§ç';
        });
    </script>
</body>
</html>
